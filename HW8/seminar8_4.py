# –ó–∞–¥–∞–Ω–∏–µ No4
# üìå –ü—Ä–æ—á–∏—Ç–∞–∏ÃÜ—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–∏ÃÜ –≤ –ø—Ä–æ—à–ª–æ–º –∑–∞–¥–∞–Ω–∏–∏ csv —Ñ–∞–∏ÃÜ–ª –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è csv.DictReader.
# üìå –î–æ–ø–æ–ª–Ω–∏—Ç–µ id –¥–æ 10 —Ü–∏—Ñ—Ä –Ω–µ–∑–Ω–∞—á–∞—â–∏–º–∏ –Ω—É–ª—è–º–∏.
# üìå –í –∏–º–µ–Ω–∞—Ö –ø–µ—Ä–≤—É—é –±—É–∫–≤—É —Å–¥–µ–ª–∞–∏ÃÜ—Ç–µ –ø—Ä–æ–ø–∏—Å–Ω–æ–∏ÃÜ.
# üìå –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ —Ö–µ—à –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞.
# üìå –ü–æ–ª—É—á–∏–≤—à–∏–µ—Å—è –∑–∞–ø–∏—Å–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ json —Ñ–∞–∏ÃÜ–ª, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ csv —Ñ–∞–∏ÃÜ–ª–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–∏ÃÜ json —Å–ª–æ–≤–∞—Ä—å.
# üìå –ò–º—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏ –∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ñ–∞–∏ÃÜ–ª–æ–≤ –ø–µ—Ä–µ–¥–∞–≤–∞–∏ÃÜ—Ç–µ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏.

import json


def csv_to_json(filename: str):
    with open(f'{filename}.csv', 'r', newline='') as f_csv:
        data = f_csv.read().split('\n')

    res: list = []
    data.pop()
    for value in data[1:]:
        level, name, id = value[:-1].split(',')
        res.append({"id": f"{int(id):06}", "level": level, "name": name, "hash": hash(id + name)})

    with open(f'task5_{filename}.json', 'w', newline='') as f_json:
        json.dump(res, f_json, indent=4)


if __name__ == '__main__':
    csv_to_json('users')
